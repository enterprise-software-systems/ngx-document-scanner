<div [ngStyle]="editorStyle" fxLayoutAlign="space-around" style="direction: ltr !important">
  <div #imageContainer [ngStyle]="imageDivStyle" style="margin: auto;">
    <ng-container *ngIf="imageLoaded && mode === 'crop'">
      <ngx-shape-outine #shapeOutline [color]="options.cropToolColor"
                        [weight]="options.cropToolLineWeight"
                        [dimensions]="previewDimensions"></ngx-shape-outine>
      <ngx-draggable-point #topLeft [pointOptions]="options.pointOptions"
                           [startPosition]="{x: 0, y: 0}" [limitRoles]="['top', 'left']"
                           [container]="imageContainer"></ngx-draggable-point>
      <ngx-draggable-point #topRight [pointOptions]="options.pointOptions"
                           [startPosition]="{x: previewDimensions.width, y: 0}"
                           [limitRoles]="['top', 'right']"
                           [container]="imageContainer"></ngx-draggable-point>
      <ngx-draggable-point #bottomLeft [pointOptions]="options.pointOptions"
                           [startPosition]="{x: 0, y: previewDimensions.height}"
                           [limitRoles]="['bottom', 'left']"
                           [container]="imageContainer"></ngx-draggable-point>
      <ngx-draggable-point #bottomRight [pointOptions]="options.pointOptions"
                           [startPosition]="{x: previewDimensions.width, y: previewDimensions.height}"
                           [limitRoles]="['bottom', 'right']"
                           [container]="imageContainer"></ngx-draggable-point>
    </ng-container>
    <canvas #PreviewCanvas [ngStyle]="{'max-width': options.maxPreviewWidth}"
            style="z-index: 5"></canvas>
  </div>
  <div fxLayout="column" style="position: absolute; bottom: 0; width: 100vw">
    <div class="editor-actions" fxLayout="row" fxLayoutAlign="space-around">
      <ng-container *ngFor="let button of displayedButtons" [ngSwitch]="button.type">
        <button mat-mini-fab *ngSwitchCase="'fab'" [name]="button.name" (click)="button.action()"
                [color]="options.buttonThemeColor">
          <mat-icon>{{button.icon}}</mat-icon>
        </button>
        <button mat-raised-button *ngSwitchCase="'button'" [name]="button.name"
                (click)="button.action()" [color]="options.buttonThemeColor">
          <mat-icon>{{button.icon}}</mat-icon>
          <span>{{button.text}}}</span>
        </button>
      </ng-container>
    </div>
    <div class="editor-actions" fxLayout="row" fxLayoutAlign="space-around">
      <div fxLayout="column">
        <div class="example-label-container">
          <label id="example-name-label" class="example-name-label">Threshold</label>
          <label class="example-value-label">{{value}}</label>
        </div>
        <mat-slider
          thumbLabel
          class="example-margin"
          [max]="255"
          [min]="0"
          [step]="1"
          [(ngModel)]="value"
        >
        </mat-slider>
      </div>
    </div>
  </div>

</div>


